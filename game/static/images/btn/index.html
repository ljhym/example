<!DOCTYPE html>
<html>
<body>
<!-- æ¸¸æˆæŒ‰é’®ï¼ˆç¤ºä¾‹ç»“æ„ï¼‰ -->
<button class="action-btn" data-vibe="50">ğŸ”¥ è¿å‡»æŒ‰é’®</button>

<script>
// ============== æç®€æŒ¯åŠ¨æ§åˆ¶å™¨ ==============
const vibe = {
  enabled: true, // å…¨å±€æŒ¯åŠ¨å¼€å…³
  lastTime: 0,   // èŠ‚æµæ ‡è®°

  // æ ¸å¿ƒæŒ¯åŠ¨æ–¹æ³•ï¼ˆè‡ªåŠ¨å¤„ç†è¿å‡»ï¼‰
  pulse(ms = 50) { 
    if (!this.enabled || !navigator.vibrate) return;
    
    // æé€ŸèŠ‚æµï¼ˆ10msé—´éš”å¯è¿å‡»ï¼‰
    const now = Date.now();
    if (now - this.lastTime < 10) return;
    this.lastTime = now;

    // æ‰§è¡ŒæŒ¯åŠ¨ï¼ˆé»˜è®¤50msçŸ­è„‰å†²ï¼‰
    navigator.vibrate(ms);
  }
}

// ============== æŒ‰é’®ç»‘å®š ==============
document.querySelectorAll('.action-btn').forEach(btn => {
  // è§¦æ‘¸/é¼ æ ‡æŒ‰ä¸‹æ—¶è§¦å‘æŒ¯åŠ¨
  btn.addEventListener('touchstart', () => {
    const ms = parseInt(btn.dataset.vibe) || 50;
    vibe.pulse(ms); 
    // è¿™é‡Œæ·»åŠ ä½ çš„æ¸¸æˆé€»è¾‘
  });
  
  // æ¡Œé¢ç«¯å…¼å®¹
  btn.addEventListener('mousedown', () => vibe.pulse());
});

// ============== æŒ¯åŠ¨å¼€å…³ï¼ˆå¯é€‰ï¼‰ ==============
document.querySelector('#toggleVibe')?.addEventListener('click', () => {
  vibe.enabled = !vibe.enabled;
});
</script>
</body>
</html>