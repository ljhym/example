import"./lodash.51d26158.js";import{A as q,C as V,G as _,a as F,S as B,e as P}from"./pixi.8faae212.js";import{_ as Y}from"./index.ef2301ac.js";import{s as J,n as K,o as L,b as O,p as Q,d as U,a as Z}from"./vendor.d2fb6949.js";import"./_commonjsHelpers.b8add541.js";const $=C=>(Q("data-v-8af8ea56"),C=C(),U(),C),ee={class:"page"},te=$(()=>Z("div",{id:"stage"},null,-1)),ie=[te],ne={__name:"pixi33",setup(C){const c=J({});let l=2;K(()=>{const i=new q({width:800,height:800,antialias:!0,backgroundColor:3276});document.getElementById("stage").appendChild(i.view);for(var s=0;s<5;s++){const o=new V;o.position.set(250,250);let e=25,n=400,a=200,t=!0;s%2==0&&(t=!1);let r=0;t&&(r=35);const d=new _;d.beginFill(16711422),d.name="basecont",d.drawRect(0,0,n,a+r),d.endFill();const h=new _;h.lineStyle(1,16760065,1,1),h.beginFill(16711422),h.name="graphics",h.drawRect(0,0,n,a+r),h.endFill();const p=new _;p.beginFill(11161352),p.drawRect(0+l,0+l,n-2*l,a-2*l),p.name="content",p.endFill();let f=new _;f.name="bottom",f.beginFill(13369344),f.drawRect(0,0,n-2*l,r),f.endFill(),f.position.set(l,a-l);let k=F.from("pixitext/btn-resheight.png"),m=new B(k);m.name="resHeightBtn",m.width=e,m.height=e,m.anchor.set(.5,.5),m.position.set(n/2,d.height);let T=F.from("pixitext/btn-reswidth.png"),u=new B(T);u.name="reswidthBtn",u.width=e,u.height=e,u.anchor.set(.5,.5),u.position.set(n,d.height/2);let I=F.from("pixitext/btn-del.png"),w=new B(I);w.name="delBtn",w.width=e,w.height=e,w.anchor.set(.5,.5),w.position.set(0,0);let M=F.from("pixitext/btn-resize.png"),x=new B(M);if(x.name="resizeBtn",x.width=e,x.height=e,x.anchor.set(.5,.5),x.position.set(n,0),t){let y="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg.jj20.com%2Fup%2Fallimg%2F512%2F0HG2123938%2F120HG23938-6-1200.jpg&refer=http%3A%2F%2Fimg.jj20.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1651311050&t=887ac62e626bda7dd72c338f5031ad89",b=F.from(y),g=new B(b);g.name="wenliBg",g.mask=p,g.position.set(0,0),h.addChild(g);let E={fontFamily:"\u5B8B\u4F53",fontSize:"12px",fill:"#101010",padding:10,textBaseline:"alphabetic",breakWords:!0,wordWrap:!0,wordWrapWidth:n-2*l-20},H=new P("\u8272\u5361\u540D\u79F0 *",E);H.name="name",H.position.set(0,6);let X={fontFamily:"\u5B8B\u4F53",fontSize:"12px",fill:"#ffffff",padding:10,textBaseline:"alphabetic",breakWords:!0,wordWrap:!0,wordWrapWidth:n-2*l-20},W=new P("#ffffff",X);W.name="color",W.position.set(0,22),f.addChild(H),f.addChild(W),h.addChild(f)}else if(s!=0){let y={fontFamily:"\u5B8B\u4F53",fontSize:30,lineHeight:39,breakWords:!0,wordWrap:!0,wordWrapWidth:n-20,textBaseline:"alphabetic",padding:10,fill:"#ffffff",fontWeight:"700",align:"center"},b=new P("\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u6216\u6216\u6216\u6216",y);b.name="text",b.position.set(10+l,15+l),p.addChild(b)}else{let y="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg.jj20.com%2Fup%2Fallimg%2F512%2F0HG2123938%2F120HG23938-6-1200.jpg&refer=http%3A%2F%2Fimg.jj20.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1651311050&t=887ac62e626bda7dd72c338f5031ad89",b=F.from(y),g=new B(b);g.name="logo",g.position.set(l,l),g.width=p.width,g.height=p.height,p.addChild(g)}o.addChild(d),o.addChild(h),o.addChild(p),o.addChild(w),o.addChild(x),o.addChild(m),o.addChild(u),w.buttonMode=!0,x.buttonMode=!0,u.buttonMode=!0,m.buttonMode=!0,w.interactive=!0,x.interactive=!0,u.interactive=!0,m.interactive=!0,G(w),A(x),D(u),j(m),R(o),i.stage.addChild(o)}});let z;function A(i){i.interactive=!0,i.on("pointerdown",function(e){e.stopPropagation(),c.clickName=this.name,z=e.data.global.x,this.on("pointermove",o)}),i.on("pointerup",s),i.on("pointerupoutside",s);function s(e){e.stopPropagation(),c.clickName="",this.off("pointermove")}function o(e){let n=e.data.global.x,a=n-z;z=n;let t=this.parent.getChildByName("basecont"),r=this.parent.getChildByName("content").getChildByName("text"),d=.01;a>0&&(t.width=t.width*(1+d),t.height=t.height*(1+d),r&&(r.style.fontSize=r.style.fontSize*(1+d),r.style.lineHeight=r.style.fontSize*1.3),v(this.parent)),a<0&&(t.scale.x>=.1&&(t.width=t.width*(1-d),t.height=t.height*(1-d),r&&(r.style.fontSize=r.style.fontSize*(1-d),r.style.lineHeight=r.style.fontSize*1.3)),v(this.parent))}}let N;function D(i){i.interactive=!0,i.on("pointerdown",function(e){e.stopPropagation(),c.clickName=this.name,console.log(c.clickName),N=e.data.global.x,this.on("pointermove",o)}),i.on("pointerup",s),i.on("pointerupoutside",s);function s(e){this.off("pointermove")}function o(e){e.stopPropagation();let n=e.data.global.x,a=n-N;N=n;let t=this.parent.getChildByName("basecont");t.width<20&&a<0||(t.width=t.width-0+(a-0)-0,t.height=t.height-0,v(this.parent))}}let S;function j(i){i.interactive=!0,i.on("pointerdown",function(e){e.stopPropagation(),c.clickName=this.name,S=e.data.global.y,this.on("pointermove",o)}),i.on("pointerup",s),i.on("pointerupoutside",s);function s(e){this.off("pointermove")}function o(e){e.stopPropagation();let n=e.data.global.y,a=n-S;S=n;let t=this.parent.getChildByName("basecont");t.height<20&&a<0||(t.width=t.width-0,t.height=t.height-0+(a-0)-0,v(this.parent))}}function v(i){let s=i.getChildByName("basecont"),o=s.width,e=s.height,n=i.getChildByName("graphics");n.clear(),n.lineStyle(1,16760065,1,1),n.beginFill(16711422),n.drawRect(0,0,o,e),n.endFill();let a=n.getChildByName("bottom"),t=i.getChildByName("content"),r=0;a&&(r=35),t.clear(),t.beginFill(11161352),t.drawRect(0+l,0+l,o-2*l,e-2*l-r),t.endFill(),a&&(a.clear(),a.beginFill(13369344),a.drawRect(0,0,o-2*l,r),a.endFill(),a.position.set(l,t.height+l));let d=t.getChildByName("text");d&&(d.style.wordWrapWidth=t.width-21);let h=t.getChildByName("logo");h&&(h.width=o-2*l,h.height=e-2*l),i.getChildByName("resHeightBtn").position.set(o/2,e),i.getChildByName("reswidthBtn").position.set(o,e/2),i.getChildByName("resizeBtn").position.set(o,0)}function R(i){i.interactive=!0,i.on("pointerdown",function(e){e.stopPropagation(),c.selectDrag=this,console.log(this),console.log(this.getChildByName("basecont").width),console.log(this.getChildByName("basecont").height),this.on("pointermove",o)}),i.on("pointerup",s),i.on("pointerupoutside",s);function s(e){c.selectDrag&&(c.selectDrag.off("pointermove"),c.selectDrag=!1)}function o(e){let n=e.data.originalEvent.movementX,a=e.data.originalEvent.movementY;c.selectDrag.position.x+=n,c.selectDrag.position.y+=a}}function G(i){i.on("pointerdown",function(s){s.stopPropagation(),console.log(this)})}return(i,s)=>(L(),O("div",ee,ie))}};var de=Y(ne,[["__scopeId","data-v-8af8ea56"]]);export{de as default};
