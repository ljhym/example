import{S as P,P as T,ar as q,T as I,k as W,as as Y,at as C,au as G,a4 as m,s as R,l as j,av as z,C as A}from"./three.module.99621659.js";import{g as F}from"./index.e6e77149.js";import{G as X}from"./dat.gui.module.6914edc7.js";import{_ as $}from"./index.ef2301ac.js";import{q as B,n as D,o as O,b as J,a as o,F as K,p as N,d as U}from"./vendor.d2fb6949.js";const V=c=>(N("data-v-60b6ac6e"),c=c(),U(),c),Z=V(()=>o("div",{id:"xuehua"},[o("div",{class:"page page0"},[o("h1",null,"\u300A\u738B\u724C\u5BF9\u738B\u724C\u300B\u56DE\u5F52"),o("h3",null,"\u5434\u5F64\u6652\u5408\u5F71\u64AD\u51FA\u5012\u8BA1\u65F6")]),o("div",{class:"page page1"},[o("h1",null,"\u534A\u719F\u604B\u4EBA\u6536\u5B98"),o("h3",null,"\u738B\u5F66\u9716\u8981\u7ED9\u7F57\u62C9\u738B\u80FD\u80FD\u5305\u7EA2\u5305\u5F00\u5E2D")]),o("div",{class:"page page2"},[o("h1",null,"\u97E9\u5973\u661FJessi\u786E\u8BCA\u65B0\u51A0"),o("h3",null,"\u65B0\u7EFC\u827A\u8282\u76EE\u5DF2\u4E09\u4EBA\u76F8\u7EE7\u611F\u67D3")])],-1)),Q={__name:"scrollpage",setup(c){const g=B();let a=0,h=0;new X;const l=new P,t=new T(35,window.innerHeight/window.innerHeight,.1,1e3);t.position.set(0,0,6),t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),l.add(t);const b=new q(5);l.add(b);const d=new z(()=>{console.log("load")},(e,n,r)=>{console.log("onPregress"),console.log(e,n,r),console.log("\u7EB9\u7406\u56FE\u7247\u7684\u52A0\u8F7D\u8FDB\u5EA6\uFF1A"+(n/r*100).toFixed(2))+""},()=>{console.log("loaded")},e=>{console.log("err")});d.onStart=function(){console.log("loading start")},d.onError=function(e){console.log("error"),console.log(e)};const f=new I(d);f.load("images/texture/threeTone.jpg"),f.load("images/texture/fiveTone.jpg");const u=new W({color:"#ffffff"}),S=new Y(.8,.3,16,100),H=new C(1,1,1,32),L=new G(.5,.15,100,16),x=new m(S,u),_=new m(H,u),v=new m(L,u);l.add(x,_,v);const w=[x,_,v];w.forEach((e,n)=>{e.position.y=-n*3,e.position.x=1});var p;const y=new R("#ffffff",1);y.position.set(1,1,0),l.add(y);const i=new j({alpha:!0});i.setSize(window.innerWidth,window.innerHeight),window.addEventListener("resize",()=>{t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight),i.setPixelRatio(window.devicePixelRatio)}),window.addEventListener("dblclick",()=>{document.fullscreenElement||document.webkitFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():i.domElement.requestFullscreen?i.domElement.requestFullscreen():i.domElement.webkitRequestFullscreen&&i.domElement.webkitRequestFullscreen()}),D(()=>{g.value.appendChild(i.domElement),p=document.querySelectorAll(".page"),console.log(p),E()});const s={};s.x=0,s.y=0,s.clientX=0,s.clientY=0,window.addEventListener("mousemove",e=>{s.clientX=e.clientX,s.clientY=e.clientY,s.x=e.clientX/window.innerWidth-.5,s.y=e.clientY/window.innerHeight-.5});const M=new A;function E(e){const n=M.getDelta();for(const k of w)k.rotation.x+=.1*n,k.rotation.y+=.1*n;t.position.y=-(h/window.innerHeight)*3,t.position.x+=(s.x*.5-t.position.x)*n*5;var r={x:0,y:0};r.x=s.x*50,p[a].style.transform=`translate(${r.x}px,${r.y}px)`,requestAnimationFrame(E),i.render(l,t)}return window.addEventListener("scroll",e=>{h=window.scrollY;const n=Math.round(window.scrollY/window.innerHeight);n!=a&&(console.log("\u6539\u53D8\u9875\u6570\uFF0C\u5F53\u524D\u662F\uFF1A",n),a=n,F.to(w[a].rotation,{duration:1.5,x:"+="+Math.PI,z:"+="+Math.PI,ease:"back.inOut(1.7)"}),F.to(`.page${a} h1`,{rotationZ:"+=360",duration:1,ease:"back.inOut(1.7)"}))}),(e,n)=>(O(),J(K,null,[o("div",{class:"canvas",ref_key:"scrollpage",ref:g},null,512),Z],64))}};var ie=$(Q,[["__scopeId","data-v-60b6ac6e"]]);export{ie as default};
